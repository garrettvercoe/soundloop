{"version":3,"sources":["actions/loops.js","components/Loop.js","components/Portal.js","actions/shared.js","components/PlayButton.js","components/InstrumentSelect.js","components/BottomNav.js","actions/tones.js","actions/cord.js","components/ToneKonva.js","components/MountedTones.js","reducers/cord.js","reducers/index.js","reducers/loops.js","reducers/tones.js","reducers/shared.js","middleware/logger.js","middleware/index.js","components/LoopKonva.js","components/MountedLoops.js","components/NewLoop.js","components/Cord.js","components/NewToneMenu.js","components/ToneButton.js","components/LeftNav.js","components/App.js","index.js"],"names":["ADD_LOOP","UPDATE_LOOP","nextLoopId","addLoop","rad","type","id","radius","speed","LoopScale","_ref","shapeProps","isSelected","onSelect","onChange","shapeRef","React","useRef","trRef","useEffect","current","setNode","getLayer","batchDraw","react_default","a","createElement","Fragment","ReactKonva","Object","assign","onClick","ref","x","window","innerWidth","y","innerHeight","fill","stroke","strokeWidth","onTransformEnd","e","node","scaleX","scaleY","objectSpread","enabledAnchors","centeredScaling","rotateEnabled","borderStrokeWidth","anchorFill","anchorCornerRadius","anchorSize","anchorStrokeWidth","ignoreStroke","boundBoxFunc","oldBoundBox","newBoundBox","Math","abs","width","min","Component","Loop","initialCircles","circleTest","height","_React$useState","useState","_React$useState2","slicedToArray","circles","setCircles","_React$useState3","_React$useState4","selectedId","selectShape","_React$useState5","_React$useState6","map","circle","i","key","newAttrs","circs","slice","LoopExport","console","log","this","props","dispatch","Portal","connect","state","loops","renderPortal","ReactDOM","unmountComponentAtNode","defaultNode","document","body","removeChild","appendChild","children","cloneElement","render","TOGGLE_PLAY","TOGGLE_STOP","PlayButtonStyle","color","position","paddingLeft","PlayButton","_this","playing","index_es","className","style","icon","faPauseCircle","faPlayCircle","shared","InstrumentSelect","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","setState","selected","target","value","name","FormControl","InputLabel","htmlFor","Select","inputProps","MenuItem","NavStyle","top","bottom","boxShadow","ToolbarStyle","transform","BottomNav","AppBar","Toolbar","components_PlayButton","ConnectedBottomNav","ADD_TONE","RESIZE_TONE","RECEIVE_TONES","nextToneId","PLAY_TONE","index","playTone","sound","ToneKonva","isDragging","active","getAngle","bind","assertThisInitialized","x1","offset","y1","x2","y2","deg","acos","PI","_this2","angularSpeed","attachedLoop","angle","timerInit","opacity","rotation","timerLoop","played","anim","Konva","Animation","frame","angleDiff","timeDiff","rotate","time","start","prevProps","isRunning","stop","_this3","onDragStart","onDragEnd","MountedTones","tones","item","components_ToneKonva","sounds","arguments","length","undefined","action","concat","toConsumableArray","combineReducers","cord","center","logger","store","next","group","returnValue","getState","groupEnd","applyMiddleware","thunk","LoopKonva","MountedLoops","components_LoopKonva","contentContainer","padding","NewLoop","handleClick","loopArray","left","backgroundColor","borderRadius","faPlusCircle","Cord","synth","Tone","PolySynth","toMaster","tween","Tween","line","points","onFinish","reverse","play","triggerAttackRelease","tension","DialogTitle","withStyles","theme","root","margin","closeButton","right","spacing","palette","grey","classes","onClose","disableTypography","IconButton","aria-label","Close_default","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","NewToneMenu","open","handleClickOpen","handleClose","Dialog","fullWidth","maxWidth","aria-labelledby","NewToneMenu_DialogTitle","NewToneMenu_DialogContent","NewToneMenu_DialogActions","Button","ToneButton","selector","createRef","deltaPosition","handleStop","snap","findSnapCoordinates","findClosestLoop","distToCenter","curr","diff","newdiff","cx","cy","distance","atan2","cos","sin","xCoord","yCoord","colorCode","offsetx","offsety","attLoop","b","sqrt","loopToSnap","snapCoords","newA","newB","rect","getBoundingClientRect","border","borderColor","outline","pointerEvents","react_draggable_default","onStop","zIndex","LibListStyle","textAlign","LibListItemStyle","display","verticalAlign","CardStyle","Buttons","Library","colors","components_ToneButton","LibraryContainer","NewToneMenu_NewToneMenu","LeftNav_Library","LeftNav","LeftNav_LibraryContainer","components_NewLoop","ConnectedLeftNav","createStore","reducer","middleware","App","es","components_MountedLoops","components_Cord","components_MountedTones","Portal_Portal","components_LeftNav","components_BottomNav","components_App","getElementById"],"mappings":"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","file":"static/js/main.9aedfd1a.chunk.js","sourcesContent":["//LOOPS\nexport const ADD_LOOP = \"ADD_LOOP\";\nexport const UPDATE_LOOP = \"UPDATE_LOOP\";\nexport const RECEIVE_LOOPS = \"RECEIVE_LOOPS\";\n\nlet nextLoopId = 0;\nexport function addLoop(rad) {\n  return {\n    type: ADD_LOOP,\n    id: nextLoopId++,\n    radius: rad,\n    speed: 20000/rad\n  };\n}\n\nexport function updateLoop(loop) {\n  return {\n    type: UPDATE_LOOP,\n    loop\n  };\n}\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { Layer, Transformer, Circle } from \"react-konva\";\nimport { connect } from \"react-redux\";\nimport { addLoop, updateLoop } from \"../actions/loops\";\n\nfunction LoopScale({ shapeProps, isSelected, onSelect, onChange }) {\n  // shape state reference\n  const shapeRef = React.useRef();\n  // transformer state reference\n  const trRef = React.useRef();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      // we need to attach transformer manually\n      trRef.current.setNode(shapeRef.current);\n      trRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n  // return circle and transformer when selected\n  return (\n    <React.Fragment>\n      <Circle\n        onClick={onSelect}\n        ref={shapeRef}\n        {...shapeProps}\n        x={window.innerWidth / 2}\n        y={window.innerHeight / 2}\n        fill={\"transparent\"}\n        stroke={\"#ed1e79\"}\n        strokeWidth={1.5}\n        // onTransformEnd: change properties based on scale and reset scale of shapeProps\n        onTransformEnd={e => {\n          // transformer is changing scale\n          const node = shapeRef.current;\n          const scaleX = node.scaleX();\n\n          // reset the scale of the node back to 1\n          node.scaleX(1);\n          node.scaleY(1);\n          onChange({\n            ...shapeProps,\n            x: node.x(),\n            y: node.y(),\n            radius: node.radius() * scaleX\n          });\n        }}\n      />\n      {isSelected && (\n        <Transformer\n          ref={trRef}\n          enabledAnchors={[\"top-right\", \"bottom-left\"]}\n          centeredScaling={true}\n          rotateEnabled={false}\n          borderStrokeWidth={0}\n          anchorFill={\"#ed1e79\"}\n          anchorCornerRadius={80}\n          anchorSize={20}\n          anchorStrokeWidth={0}\n          ignoreStroke={true}\n          boundBoxFunc={function(oldBoundBox, newBoundBox) {\n            if (\n              Math.abs(newBoundBox.width) >\n              Math.min(\n                window.innerHeight * (4 / 5),\n                window.innerWidth * (4 / 5)\n              )\n            ) {\n              return oldBoundBox;\n            } else if (\n              Math.abs(newBoundBox.width) <\n              Math.min(window.innerHeight / 5, window.innerWidth / 5)\n            ) {\n              return oldBoundBox;\n            }\n            return newBoundBox;\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n}\n\nclass LoopTest extends React.Component {\n  componentDidMount() {\n    console.log(\"Mounted\");\n    //this.props.dispatch(updateLoop())\n    this.props.dispatch(addLoop(1));\n  }\n\n  render() {\n    return (\n      <Layer>\n        <LoopScale shapeProps={this.props.circle} />\n      </Layer>\n    );\n  }\n}\n\nfunction Loop() {\n  // need to change to singular\n  const initialCircles = [\n    {\n      radius: Math.min(\n        window.innerWidth * (1 / 3),\n        window.innerHeight * (1 / 3)\n      ),\n      id: \"loop\"\n    }\n  ];\n\n  const circleTest = {\n    width: window.innerWidth * (2 / 3),\n    height: window.innerHeight * (2 / 3),\n    id: \"loop\"\n  };\n\n  const [circles, setCircles] = React.useState(initialCircles);\n  const [selectedId, selectShape] = React.useState(null);\n  const [circle, setCircle] = React.useState(circleTest);\n  return (\n    <Layer>\n      {circles.map((circle, i) => {\n        return (\n          <LoopScale\n            key={i}\n            shapeProps={circle}\n            isSelected={circle.id === selectedId}\n            onSelect={() => {\n              selectShape(circle.id);\n            }}\n            onChange={newAttrs => {\n              const circs = circles.slice();\n              circs[i] = newAttrs;\n              setCircles(circs);\n            }}\n          />\n        );\n      })}\n    </Layer>\n  );\n}\n\nfunction mapStateToProps(state) {\n  console.log(state);\n  return {\n    //pass through loopExport\n    radius: state.loops.radius\n  };\n}\n\n// temporary component to handle componentDidMount and test state\nclass LoopExport extends React.Component {\n  componentDidMount() {\n    console.log(\"Mounted\");\n    //this.props.dispatch(updateLoop())\n    this.props.dispatch(addLoop((window.innerHeight * 2) / 3));\n  }\n  render() {\n    return <Loop radius={this.props.radius} />;\n  }\n}\n\nexport default connect(mapStateToProps)(LoopExport);\n//export default connect(mapStateToProps)(LoopTest)\n","// adapted from https://github.com/tajo/react-portal/blob/55ed77ab823b03d1d4c45b950ba26ea5d687e85c/src/LegacyPortal.js\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nexport default class Portal extends React.Component {\n  componentDidMount() {\n    this.renderPortal();\n  }\n\n  componentDidUpdate(props) {\n    this.renderPortal();\n  }\n\n  componentWillUnmount() {\n    ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n    if (this.defaultNode) {\n      document.body.removeChild(this.defaultNode);\n    }\n    this.defaultNode = null;\n  }\n\n  renderPortal(props) {\n    if (!this.props.node && !this.defaultNode) {\n      this.defaultNode = document.createElement(\"div\");\n      document.body.appendChild(this.defaultNode);\n    }\n\n    let children = this.props.children;\n    // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n    if (typeof children.type === \"function\") {\n      children = React.cloneElement(children);\n    }\n\n    ReactDOM.render(children, this.props.node || this.defaultNode);\n  }\n\n  render() {\n    return null;\n  }\n}\n","//OVERALL\nexport const TOGGLE_PLAY = \"TOGGLE_PLAY\";\nexport const TOGGLE_STOP = \"TOGGLE_STOP\";\nexport const TOGGLE_RESTART = \"TOGGLE_RESTART\";\n\nexport function togglePlay() {\n  return {\n    type: TOGGLE_PLAY,\n    playing: true\n  };\n}\n\nexport function toggleStop() {\n  return {\n    type: TOGGLE_STOP,\n    playing: false\n  };\n}\n","import React from \"react\";\nimport \"../styles/index.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlayCircle, faPauseCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { connect } from \"react-redux\";\nimport { togglePlay, toggleStop } from \"../actions/shared\";\n\nconst PlayButtonStyle = {\n  color: \"#692d55\",\n  position: \"relative\",\n  paddingLeft: \"32.5rem\"\n};\n\nclass PlayButton extends React.Component {\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.playing ? (\n          <FontAwesomeIcon\n            className=\"inl-blk fa-4x\"\n            style={PlayButtonStyle}\n            icon={faPauseCircle}\n            onClick={() => this.props.dispatch(toggleStop())}\n          />\n        ) : (\n          <FontAwesomeIcon\n            className=\"inl-blk fa-4x\"\n            style={PlayButtonStyle}\n            icon={faPlayCircle}\n            onClick={() => this.props.dispatch(togglePlay())}\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state); // state\n  return {\n    playing: state.shared.playing\n  };\n}\n\nexport default connect(mapStateToProps)(PlayButton);\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { connect } from \"react-redux\";\n\nclass InstrumentSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: \"Piano\"\n    };\n  }\n\n  //   handleChange(event) {\n  //     this.setValues(oldValues => ({\n  //       ...oldValues,\n  //       [event.target.name]: event.target.value\n  //     }));\n  //   }\n  handleChange = event => {\n    this.setState({ selected: event.target.value, name: event.target.name });\n  };\n  render() {\n    return (\n      <div style={{ paddingLeft: \"5rem\" }}>\n        {\" \"}\n        <FormControl>\n          <InputLabel htmlFor=\"age-simple\">Instrument</InputLabel>\n          <Select\n            value={this.state.selected}\n            onChange={this.handleChange}\n            inputProps={{\n              name: \"age\",\n              id: \"age-simple\"\n            }}\n          >\n            <MenuItem value={\"Clarinet\"}>Clarinet</MenuItem>\n            <MenuItem value={\"Guitar\"}>Guitar</MenuItem>\n            <MenuItem value={\"Piano\"}>Piano</MenuItem>\n          </Select>\n        </FormControl>\n      </div>\n    );\n  }\n}\n\nexport default connect()(InstrumentSelect);\n","import React from \"react\";\nimport \"../styles/index.css\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport PlayButton from \"./PlayButton\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport InstrumentSelect from \"./InstrumentSelect\";\nimport { connect } from \"react-redux\";\n\nconst NavStyle = {\n  top: \"auto\",\n  bottom: 0,\n  height: \"6rem\",\n  boxShadow: \"0 20px 10px rgba(0,0,0,1), 2px 6px 6px rgba(0,0,0,1)\"\n};\n\nconst ToolbarStyle = {\n  top: \"50%\",\n  transform: \"translateY(-50%)\"\n};\n\nclass BottomNav extends React.Component {\n  render() {\n    return (\n      <AppBar style={NavStyle} position=\"fixed\" color=\"white\">\n        <Toolbar style={ToolbarStyle}>\n          {/* <InstrumentSelect /> */}\n          <PlayButton color={\"#692d55\"} />\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\nconst ConnectedBottomNav = connect()(BottomNav);\n\nexport default ConnectedBottomNav;\n","//TONES\nexport const ADD_TONE = \"ADD_TONE\";\nexport const RESIZE_TONE = \"RESIZE_TONE\";\nexport const RECEIVE_TONES = \"RECEIVE_TONES\";\n\nlet nextToneId = 0;\nexport function addTone(\n  xCoord,\n  yCoord,\n  colorCode,\n  offsetx,\n  offsety,\n  attLoop,\n  rad,\n  sound\n) {\n  return {\n    type: ADD_TONE,\n    id: nextToneId++,\n    position: {\n      x: xCoord,\n      y: yCoord\n    },\n    offset: {\n      x: offsetx,\n      y: offsety\n    },\n    color: colorCode,\n    attachedLoop: attLoop,\n    radius: rad,\n    sound: sound\n  };\n}\n\nexport function resizeTone(tone) {\n  return {\n    type: RESIZE_TONE,\n    tone\n  };\n}\n\nexport function receiveTones(tones) {\n  return {\n    type: RECEIVE_TONES,\n    tones\n  };\n}\n","export const PLAY_TONE = \"PLAY_TONE\";\n\nlet index = 0;\nexport function playTone(sound) {\n  return {\n    type: PLAY_TONE,\n    sound: sound,\n    index: index++\n  };\n}\n","import React from \"react\";\nimport \"../styles/index.css\";\nimport { Circle, Layer } from \"react-konva\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport Portal from \"./Portal\";\nimport { connect } from \"react-redux\";\nimport Konva from \"konva\";\nimport { addTone } from \"../actions/tones\";\nimport { playTone } from \"../actions/cord\";\n\nclass ToneKonva extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDragging: false,\n      // x: window.innerWidth / 2,\n      // y: window.innerHeight / 2,\n      active: false\n    };\n    this.getAngle = this.getAngle.bind(this);\n  }\n\n  getAngle() {\n    var radius = (window.innerHeight * (2 / 3)) / 2;\n\n    var x1 = this.props.x - this.props.offset.x;\n    var y1 = this.props.y + this.props.offset.y;\n    var x2 = this.props.x;\n    var y2 = this.props.y + radius;\n    var rad = Math.acos(\n      (2 * (radius * radius) -\n        Math.abs((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1))) /\n        (2 * (radius * radius))\n    );\n\n    var deg = rad * (180 / Math.PI);\n    if (this.props.offset.x > 0) {\n      return 360 - deg;\n    } else return deg;\n  }\n\n  componentDidMount() {\n    var angularSpeed = this.props.loops[this.props.attachedLoop].speed;\n    //var angularSpeed = 75;\n    var angle = this.getAngle();\n    var timerInit = ((360 - (angle % 360)) / angularSpeed) * 1000;\n    this.circle.opacity(((this.circle.rotation() + angle) % 360) / 1080 + 0.66);\n    var timerLoop = (360 / angularSpeed) * 1000;\n\n    var played = false;\n\n    this.anim = new Konva.Animation(frame => {\n      var angleDiff = (frame.timeDiff * angularSpeed) / 1000;\n      this.circle.rotate(angleDiff);\n\n      this.circle.opacity(\n        ((this.circle.rotation() + angle) % 360) / 1080 + 0.66\n      );\n      if (\n        !played &&\n        timerInit - 10 < frame.time &&\n        frame.time < timerInit + 10\n      ) {\n        this.props.dispatch(playTone(this.props.sound));\n        played = true;\n      } else if (\n        played &&\n        frame.time % timerLoop < timerInit + 20 &&\n        frame.time % timerLoop > timerInit\n      ) {\n        this.props.dispatch(playTone(this.props.sound));\n      } else {\n        this.circle.fill(this.props.color);\n      }\n    }, this.circle.getLayer());\n    if (this.props.playing) {\n      this.anim.start();\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.playing !== this.props.playing) {\n      if (this.props.playing) {\n        this.anim.start();\n      } else {\n        this.anim.isRunning() && this.anim.stop();\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Circle\n        x={this.props.x}\n        y={this.props.y}\n        fill={this.props.color}\n        radius={this.props.radius}\n        offset={this.props.offset}\n        ref={node => {\n          this.circle = node;\n        }}\n        onDragStart={() => {\n          this.setState({\n            isDragging: true\n          });\n        }}\n        onDragEnd={e => {\n          this.setState({\n            isDragging: false,\n            x: e.target.x(),\n            y: e.target.y()\n          });\n        }}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state); // state\n  return {\n    playing: state.shared.playing,\n    loops: state.loops\n  };\n}\n\nexport default connect(mapStateToProps)(ToneKonva);\n","import React from \"react\";\nimport \"../styles/index.css\";\nimport { Layer } from \"react-konva\";\n\nimport { connect } from \"react-redux\";\nimport ToneKonva from \"./ToneKonva\";\n\nclass MountedTones extends React.Component {\n  render() {\n    return (\n      <Layer>\n        {this.props.tones.map(function(item) {\n          return (\n            <ToneKonva\n              color={item.color}\n              x={item.position.x}\n              y={item.position.y}\n              offset={item.offset}\n              radius={item.radius}\n              attachedLoop={item.attachedLoop}\n              sound={item.sound}\n            />\n          );\n        })}\n      </Layer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state); // state\n  return {\n    tones: state.tones\n  };\n}\n\nexport default connect(mapStateToProps)(MountedTones);\n","import { PLAY_TONE } from \"../actions/cord\";\n\nexport default function cord(state = {}, action) {\n  return Object.assign({}, state, {\n    index: action.index,\n    sounds: sounds(state.sounds, action)\n  });\n}\n\nfunction sounds(state = [], action) {\n  switch (action.type) {\n    case PLAY_TONE:\n      return [...state, action.sound];\n    default:\n      return state;\n  }\n}\n","import loops from \"./loops\";\nimport tones from \"./tones\";\nimport shared from \"./shared\";\nimport cord from \"./cord\";\nimport { combineReducers } from \"redux\";\n\nexport default combineReducers({\n  loops,\n  tones,\n  cord,\n  shared\n});\n","import { ADD_LOOP, UPDATE_LOOP } from \"../actions/loops\";\n\nexport default function loops(state = [], action) {\n  switch (action.type) {\n    case ADD_LOOP:\n      return [\n        ...state,\n        {\n          id: action.id,\n          radius: action.radius,\n          speed: action.speed\n        }\n      ];\n\n    case UPDATE_LOOP:\n      return {\n        ...state\n        // something here\n      };\n    default:\n      return state;\n  }\n}\n","import { ADD_TONE, RECEIVE_TONES, RESIZE_TONE } from \"../actions/tones\";\n\nexport default function tones(state = [], action) {\n  switch (action.type) {\n    case ADD_TONE:\n      return [\n        ...state,\n        {\n          id: action.id,\n          color: action.color,\n          // sound: \"idk\",\n          attachedLoop: action.attachedLoop,\n          radius: action.radius,\n          sound: action.sound,\n          position: action.position,\n          offset: action.offset\n        }\n      ];\n\n    case RESIZE_TONE:\n      return { state };\n\n    case RECEIVE_TONES:\n      return {\n        ...state,\n        ...action.tones\n      };\n    default:\n      return state;\n  }\n}\n","import { TOGGLE_PLAY, TOGGLE_STOP, TOGGLE_RESTART } from \"../actions/shared\";\n\nexport default function shared(\n  state = {\n    playing: false,\n    center: { x: window.innerWidth / 2, y: window.innerHeight / 2 }\n  },\n  action\n) {\n  switch (action.type) {\n    case TOGGLE_PLAY:\n      return Object.assign({}, state, {\n        playing: true\n      });\n    case TOGGLE_STOP:\n      return Object.assign({}, state, {\n        playing: false\n      });\n    default:\n      return state;\n  }\n}\n","const logger = store => next => action => {\n  console.group(action.type);\n  console.log(\"The action: \", action);\n  const returnValue = next(action);\n  console.log(\"The new state is: \", store.getState());\n  console.groupEnd();\n  return returnValue;\n};\n\nexport default logger;\n","import logger from \"./logger\";\nimport thunk from \"redux-thunk\";\nimport { applyMiddleware } from \"redux\";\n\nexport default applyMiddleware(thunk, logger);\n","import React from \"react\";\nimport { Circle } from \"react-konva\";\nimport { connect } from \"react-redux\";\n\nclass LoopKonva extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDragging: false,\n      // x: window.innerWidth / 2,\n      // y: window.innerHeight / 2,\n      active: false\n    };\n  }\n\n  render() {\n    return (\n      <Circle\n        x={window.innerWidth / 2}\n        y={window.innerHeight / 2}\n        radius={this.props.radius}\n        fill={\"transparent\"}\n        stroke={\"#ed1e79\"}\n        //strokeWidth={this.props.radius / 100}\n        strokeWidth={1.5}\n      />\n    );\n  }\n}\n\nexport default connect()(LoopKonva);\n","import React from \"react\";\nimport \"../styles/index.css\";\nimport { Layer } from \"react-konva\";\n\nimport { connect } from \"react-redux\";\nimport LoopKonva from \"./LoopKonva\";\nimport { addLoop } from \"../actions/loops\";\n\nclass MountedLoops extends React.Component {\n    componentDidMount(){\n        this.props.dispatch(addLoop(window.innerHeight/3));\n    }\n\n    render() {\n        return ( \n            <Layer>\n            {this.props.loops.map(function(item) {\n                return (\n                    <LoopKonva radius={item.radius}/>\n                );\n            })}\n            </Layer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state); // state\n  return {\n    loops: state.loops\n  };\n}\n\nexport default connect(mapStateToProps)(MountedLoops);\n","import React from \"react\";\nimport \"../styles/index.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { connect } from \"react-redux\";\nimport LoopKonva from \"./LoopKonva\";\nimport { addLoop } from \"../actions/loops\";\n\nconst contentContainer = { padding: \"1rem 0  0 2rem\" };\n\nclass NewLoop extends React.Component {\n  handleClick = () => {\n    var loopArray = this.props.loops;\n    //loopArray[loopArray.length].radius-50\n    this.props.dispatch(addLoop(loopArray[loopArray.length - 1].radius / 2));\n  };\n  render() {\n    return (\n      <React.Fragment>\n        <div\n          className=\"tone-add\"\n          style={{\n            position: \"absolute\",\n            top: \"57%\",\n            left: \"5%\",\n            width: \"15rem\",\n            height: \"5rem\",\n            backgroundColor: \"#fff\",\n            borderRadius: \"1%\",\n            boxShadow:\n              \"0 20px 10px rgba(0,0,0,0.01), 0 6px 6px rgba(0,0,0,0.05)\"\n          }}\n          onClick={this.handleClick}\n        >\n          <div style={contentContainer}>\n            <h3 className=\"light inl-blk\">ADD LOOP</h3>\n            <FontAwesomeIcon\n              className=\"plus-icon inl-blk fa-lg\"\n              icon={faPlusCircle}\n            />\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state); // state\n  return {\n    loops: state.loops\n  };\n}\n\nexport default connect(mapStateToProps)(NewLoop);\n","import React from \"react\";\nimport \"../styles/index.css\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport PlayButton from \"./PlayButton\";\nimport { Line, Layer, Circle } from \"react-konva\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { connect } from \"react-redux\";\nimport Konva from \"konva\";\nimport Tone from \"tone\";\n\nclass Cord extends React.Component {\n  componentDidMount() {\n    //playing around with creating a sound\n\n    //create a synth and connect it to the master output (your speakers)\n    // var distortion = new Tone.Distortion(1.5);\n    // var tremolo = new Tone.Tremolo().start();\n    // this.synth = new Tone.PolySynth().chain(distortion, tremolo, Tone.Master);\n\n    this.synth = new Tone.PolySynth().toMaster();\n\n    this.tween = new Konva.Tween({\n      node: this.line,\n      points: [\n        this.props.center.x,\n        this.props.center.y,\n        this.props.center.x + 5,\n        this.props.center.y - 50,\n        this.props.center.x - 8,\n        this.props.center.y - 100,\n        this.props.center.x + 10,\n        this.props.center.y - 150,\n        this.props.center.x - 12,\n        this.props.center.y - 200,\n        this.props.center.x + 12,\n        this.props.center.y - 250,\n        this.props.center.x - 10,\n        this.props.center.y - 300,\n        this.props.center.x + 5,\n        this.props.center.y - 350,\n        this.props.center.x,\n        this.props.center.y - 400\n      ],\n      onFinish: function() {\n        this.tween.reverse();\n      }\n      //   onReset: function() {\n      //     this.tween.play();\n      //   }\n    });\n\n    if (this.props.playing) {\n      this.tween.play();\n    }\n  }\n\n  playTween() {}\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.sounds !== this.props.sounds) {\n      this.synth.triggerAttackRelease(\n        this.props.sounds[this.props.index],\n        \"4n\"\n      );\n      this.tween.play();\n    }\n  }\n\n  render() {\n    return (\n      <Layer>\n        <Circle\n          x={this.props.center.x}\n          y={this.props.center.y - 400}\n          radius={6}\n          fill=\"#692D55\"\n        />\n        <Circle\n          x={this.props.center.x}\n          y={this.props.center.y}\n          radius={11}\n          fill=\"#692D55\"\n        />\n        <Line\n          points={[\n            this.props.center.x,\n            this.props.center.y,\n            this.props.center.x - 5,\n            this.props.center.y - 50,\n            this.props.center.x + 8,\n            this.props.center.y - 100,\n            this.props.center.x - 10,\n            this.props.center.y - 150,\n            this.props.center.x + 12,\n            this.props.center.y - 200,\n            this.props.center.x - 12,\n            this.props.center.y - 250,\n            this.props.center.x + 10,\n            this.props.center.y - 300,\n            this.props.center.x - 5,\n            this.props.center.y - 350,\n            this.props.center.x,\n            this.props.center.y - 400\n          ]}\n          stroke=\"#692D55\"\n          strokeWidth={3}\n          tension={0.5}\n          ref={node => {\n            this.line = node;\n          }}\n        />\n      </Layer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    center: state.shared.center,\n    playing: state.shared.playing,\n    sounds: state.cord.sounds,\n    index: state.cord.index\n  };\n}\n\nexport default connect(mapStateToProps)(Cord);\n","import React from \"react\";\nimport \"../styles/index.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\n\nconst styles = theme => ({\n  root: {\n    margin: 0,\n    padding: \"4rem\"\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n});\n\nconst DialogTitle = withStyles(styles)(props => {\n  const { children, classes, onClose } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root}>\n      <h2>{children}</h2>\n      {onClose ? (\n        <IconButton\n          aria-label=\"Close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles(theme => ({\n  root: {\n    padding: \"4rem\"\n  }\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: \"4rem\"\n  }\n}))(MuiDialogActions);\n\nexport default class NewToneMenu extends React.Component {\n  state = {\n    open: false\n  };\n\n  handleClickOpen = () => {\n    this.setState({\n      open: true\n    });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <FontAwesomeIcon\n          className=\"plus-icon inl-blk fa-lg\"\n          icon={faPlusCircle}\n          onClick={this.handleClickOpen}\n        />\n\n        <Dialog\n          fullWidth={true}\n          maxWidth={\"md\"}\n          onClose={this.handleClose}\n          aria-labelledby=\"customized-dialog-title\"\n          open={this.state.open}\n        >\n          <DialogTitle id=\"customized-dialog-title\" onClose={this.handleClose}>\n            Add a New Tone\n          </DialogTitle>\n          <DialogContent>\n            Cras mattis consectetur purus sit amet fermentum. Cras justo odio,\n            dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta\n            ac consectetur ac, vestibulum at eros. Praesent commodo cursus\n            magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus\n            vel augue laoreet rutrum faucibus dolor auctor. Aenean lacinia\n            bibendum nulla sed consectetur. Praesent commodo cursus magna, vel\n            scelerisque nisl consectetur et. Donec sed odio dui. Donec\n            ullamcorper nulla non metus auctor fringilla.\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              Add Tones\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </React.Fragment>\n    );\n  }\n}\n","import React from \"react\";\nimport \"../styles/index.css\";\n\nimport Draggable from \"react-draggable\"; // The default\nimport { connect } from \"react-redux\";\nimport { addTone } from \"../actions/tones\";\nimport { playTone } from \"../actions/cord\";\nclass ToneButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.selector = React.createRef();\n    this.state = {\n      deltaPosition: {\n        x: 0,\n        y: 0\n      }\n    };\n    this.handleStop = this.handleStop.bind(this);\n    this.snap = this.snap.bind(this);\n    this.findSnapCoordinates = this.findSnapCoordinates.bind(this);\n    this.findClosestLoop = this.findClosestLoop.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  findClosestLoop(distToCenter) {\n    // iterate through loops array and compare radii\n    var acceptableRange = 50;\n    var loopArray = this.props.loops;\n    var id = 0;\n    var curr = loopArray[id].radius;\n    var diff = Math.abs(distToCenter - curr);\n\n    for (var i = 0; i < loopArray.length; i++) {\n      var newdiff = Math.abs(distToCenter - loopArray[i].radius);\n      if (newdiff < diff) {\n        diff = newdiff;\n        curr = loopArray[i].radius;\n        id = i;\n      }\n    }\n\n    if (diff < acceptableRange) {\n      return { index: id, value: curr };\n    } else {\n      return null;\n    }\n  }\n\n  findSnapCoordinates(x1, y1, cx, cy, distance) {\n    var angle = Math.atan2(y1, x1);\n    const x2 = cx - Math.cos(angle) * distance;\n    const y2 = cy + Math.sin(angle) * distance;\n    return { x: x2, y: y2 };\n  }\n\n  snap(x1, y1) {\n    const cx = window.innerWidth / 2;\n    const cy = window.innerHeight / 2;\n\n    var a = y1 - cy;\n    var b = x1 - cx;\n    //c\n    var distToCenter = Math.sqrt(a * a + b * b);\n    var loopToSnap = this.findClosestLoop(distToCenter);\n    if (loopToSnap) {\n      var snapCoords = this.findSnapCoordinates(a, b, cx, cy, loopToSnap.value);\n\n      var newA = (snapCoords.y - cy) * -1;\n      var newB = snapCoords.x - cx;\n\n      this.props.dispatch(\n        addTone(\n          cx,\n          cy,\n          this.props.color,\n          newA,\n          newB,\n\n          loopToSnap.index,\n          20,\n          this.props.sound\n        )\n      );\n    }\n  }\n\n  handleStop() {\n    this.rect = this.selector.current.getBoundingClientRect();\n    const x = this.rect.left;\n    const y = this.rect.top;\n\n    this.snap(x, y);\n\n    this.setState({\n      deltaPosition: {\n        x: 0,\n        y: 0\n      }\n    });\n  }\n\n  handleClick() {\n    this.props.dispatch(playTone(this.props.sound));\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <button\n          className=\"hover-shadow\"\n          style={{\n            borderRadius: \"100%\",\n            border: \"2px solid\",\n            borderColor: this.props.color,\n            backgroundColor: \"transparent\",\n            width: \"2rem\",\n            height: \"2rem\",\n            position: \"absolute\",\n            outline: \"none\",\n            pointerEvents: \"none\"\n          }}\n        />\n        <Draggable position={this.state.deltaPosition} onStop={this.handleStop}>\n          <button\n            ref={this.selector}\n            className=\"hover-shadow\"\n            onClick={this.handleClick}\n            style={{\n              borderRadius: \"100%\",\n              backgroundColor: this.props.color,\n              width: \"2rem\",\n              zIndex: 1,\n              height: \"2rem\",\n              border: \"none\",\n              outline: \"none\"\n            }}\n          />\n        </Draggable>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state); // state\n  return {\n    loops: state.loops\n  };\n}\n\nexport default connect(mapStateToProps)(ToneButton);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport NewLoop from \"./NewLoop\";\nimport \"../styles/index.css\";\nimport NewToneMenu from \"./NewToneMenu\";\nimport ToneButton from \"./ToneButton\";\n\nconst LibListStyle = {\n  textAlign: \"left\",\n  margin: 0,\n  zIndex: 1,\n  padding: 0,\n  position: \"relative\"\n};\n\nconst LibListItemStyle = {\n  display: \"inline-block\",\n  verticalAlign: \"top\",\n  padding: \".25rem\"\n};\n\nconst CardStyle = {\n  position: \"absolute\",\n  top: \"30%\",\n  left: \"5%\",\n  width: \"15rem\",\n  height: \"14rem\",\n  backgroundColor: \"#fff\",\n  borderRadius: \"1%\",\n  boxShadow: \"0 20px 10px rgba(0,0,0,0.01), 0 6px 6px rgba(0,0,0,0.05)\"\n};\n\nconst Buttons = [\n  { color: \"#fe6b12\", sound: \"E4\" },\n  { color: \"#fec52b\", sound: \"G4\" },\n  { color: \"#029e4e\", sound: \"B4\" },\n  { color: \"#e11a79\", sound: \"D4\" },\n  { color: \"#6581c9\", sound: \"F4\" },\n  { color: \"#7f47dd\", sound: \"C4\" }\n];\n\nconst contentContainer = { padding: \"2rem\" };\n\nclass Library extends React.Component {\n  render() {\n    return (\n      <ul style={LibListStyle}>\n        {this.props.colors.map(item => (\n          <li style={LibListItemStyle} key={item.color}>\n            <ToneButton color={item.color} sound={item.sound} />\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nclass LibraryContainer extends React.Component {\n  render() {\n    return (\n      <div style={CardStyle}>\n        <div style={contentContainer}>\n          <h3 className=\"light inl-blk\"> TONES</h3>\n          <NewToneMenu />\n\n          <Library colors={Buttons} />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass LeftNav extends React.Component {\n  render() {\n    return (\n      <React.Fragment>\n        <LibraryContainer />\n        <NewLoop />\n      </React.Fragment>\n    );\n  }\n}\n\nconst ConnectedLeftNav = connect()(LeftNav);\n\nexport default ConnectedLeftNav;\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { Stage, Layer, Rect, Text, Circle } from \"react-konva\";\nimport Konva from \"konva\";\n\nimport Loop from \"./Loop\";\nimport Portal from \"./Portal\";\nimport BottomNav from \"./BottomNav\";\nimport MountedTones from \"./MountedTones\";\nimport { connect } from \"react-redux\";\nimport reducer from \"../reducers\";\nimport middleware from \"../middleware\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport MountedLoops from \"./MountedLoops\";\nimport NewLoop from \"./NewLoop\";\nimport Cord from \"../components/Cord\";\nimport LeftNav from \"../components/LeftNav\";\n\nconst store = createStore(reducer, middleware);\nclass App extends Component {\n  render() {\n    // Stage is a div container\n    // Layer is actual canvas element (so you may have several canvases in the stage)\n    // And then we have canvas shapes inside the Layer\n    return (\n      <React.Fragment>\n        <Stage width={window.innerWidth} height={window.innerHeight}>\n          <Provider store={store}>\n            <MountedLoops />\n            <Cord />\n            <MountedTones />\n          </Provider>\n          <Portal>\n            <Provider store={store}>\n              <LeftNav />\n              <BottomNav />\n            </Provider>\n          </Portal>\n        </Stage>\n      </React.Fragment>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./components/App\";\n//import * as serviceWorker from \"./serviceWorker\";\n\n//const unsubscribe = store.subscribe(() => console.log(store.getState()));\n\nReactDOM.render(\n  <App />,\n\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}