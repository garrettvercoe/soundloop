{"ast":null,"code":"var _jsxFileName = \"/Users/garrett/repos/soundloop/src/components/ToneButton.js\";\nimport React from \"react\";\nimport \"../styles/index.css\";\nimport Draggable from \"react-draggable\";\nimport { connect } from \"react-redux\";\nimport { updateTone } from \"../actions/tones\";\nimport { playTone } from \"../actions/cord\";\nimport { cursorAdd } from \"../actions/cursor\";\n\nclass ToneButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this); // this.handleDrag = this.handleDrag.bind(this);\n  }\n\n  handleStop() {}\n\n  handleClick() {\n    this.props.dispatch(cursorAdd(this.props.note, this.props.color));\n    var radius = this.props.screenHeight / 350;\n\n    for (var i = 0; i < this.props.tones.length; i++) {\n      if (this.props.tones[i].sound === null && !this.props.playing && this.props.loops[this.props.tones[i].attachedLoop].active === true) {\n        this.props.dispatch(updateTone(i, \"#692D55\", null, radius));\n      }\n    }\n\n    if (!this.props.playing) {\n      this.props.dispatch(playTone(this.props.sound, this.props.selectedSustain));\n    }\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Draggable, {\n      position: this.state.deltaPosition,\n      onStop: this.handleStop,\n      onStart: this.handleDrag,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"outer-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: this.selector,\n      className: \"hover-shadow\",\n      onClick: this.handleClick,\n      style: {\n        borderRadius: \"100%\",\n        backgroundColor: this.props.color,\n        width: \"2rem\",\n        zIndex: 1,\n        height: \"2rem\",\n        boxShadow: this.props.selectedNote === this.props.note && this.props.mode === \"ADD\" ? \" 0 10px 10px rgba(0, 0, 0, 0.08), 0 3px 3px rgba(0, 0, 0, 0.2)\" : \"none\",\n        border: \"none\",\n        outline: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"note-select\",\n      style: {\n        color: this.props.textColor\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.props.note)))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    loops: state.loops,\n    selectedNote: state.cursor.sound,\n    tones: state.tones,\n    playing: state.shared.playing,\n    mode: state.cursor.mode,\n    center: state.shared.center,\n    screenHeight: state.shared.screenHeight,\n    selectedSustain: state.shared.selectedSustain,\n    toneSizes: state.shared.toneSizes\n  };\n} //\n\n\nexport default connect(mapStateToProps)(ToneButton);","map":{"version":3,"sources":["/Users/garrett/repos/soundloop/src/components/ToneButton.js"],"names":["React","Draggable","connect","updateTone","playTone","cursorAdd","ToneButton","Component","constructor","props","handleClick","bind","handleStop","dispatch","note","color","radius","screenHeight","i","tones","length","sound","playing","loops","attachedLoop","active","selectedSustain","render","state","deltaPosition","handleDrag","selector","borderRadius","backgroundColor","width","zIndex","height","boxShadow","selectedNote","mode","border","outline","textColor","mapStateToProps","cursor","shared","center","toneSizes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../styles/index.css\";\nimport Draggable from \"react-draggable\";\nimport { connect } from \"react-redux\";\nimport { updateTone } from \"../actions/tones\";\nimport { playTone } from \"../actions/cord\";\nimport { cursorAdd } from \"../actions/cursor\";\nclass ToneButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n    // this.handleDrag = this.handleDrag.bind(this);\n  }\n\n  handleStop() {}\n\n  handleClick() {\n    this.props.dispatch(cursorAdd(this.props.note, this.props.color));\n\n    var radius = this.props.screenHeight / 350;\n    for (var i = 0; i < this.props.tones.length; i++) {\n      if (\n        this.props.tones[i].sound === null &&\n        !this.props.playing &&\n        this.props.loops[this.props.tones[i].attachedLoop].active === true\n      ) {\n        this.props.dispatch(updateTone(i, \"#692D55\", null, radius));\n      }\n    }\n\n    if (!this.props.playing) {\n      this.props.dispatch(\n        playTone(this.props.sound, this.props.selectedSustain)\n      );\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Draggable\n          position={this.state.deltaPosition}\n          onStop={this.handleStop}\n          onStart={this.handleDrag}\n        >\n          <div className=\"outer-button\">\n            <div\n              ref={this.selector}\n              className=\"hover-shadow\"\n              onClick={this.handleClick}\n              style={{\n                borderRadius: \"100%\",\n                backgroundColor: this.props.color,\n                width: \"2rem\",\n                zIndex: 1,\n                height: \"2rem\",\n                boxShadow:\n                  this.props.selectedNote === this.props.note &&\n                  this.props.mode === \"ADD\"\n                    ? \" 0 10px 10px rgba(0, 0, 0, 0.08), 0 3px 3px rgba(0, 0, 0, 0.2)\"\n                    : \"none\",\n                border: \"none\",\n                outline: \"none\"\n              }}\n            >\n              <div\n                className=\"note-select\"\n                style={{ color: this.props.textColor }}\n              >\n                {this.props.note}\n              </div>\n            </div>\n          </div>\n        </Draggable>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    loops: state.loops,\n    selectedNote: state.cursor.sound,\n    tones: state.tones,\n    playing: state.shared.playing,\n    mode: state.cursor.mode,\n    center: state.shared.center,\n    screenHeight: state.shared.screenHeight,\n    selectedSustain: state.shared.selectedSustain,\n    toneSizes: state.shared.toneSizes\n  };\n}\n\n//\n\nexport default connect(mapStateToProps)(ToneButton);\n"]},"metadata":{},"sourceType":"module"}