{"ast":null,"code":"var _jsxFileName = \"/Users/ericduong/Documents/repos/soundloop/src/components/Cord.js\";\nimport React from \"react\";\nimport \"../styles/index.css\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport PlayButton from \"./PlayButton\";\nimport { Line, Layer, Circle } from \"react-konva\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { connect } from \"react-redux\";\nimport Konva from \"konva\";\nimport Tone from \"tone\"; //import GreenSock from \"greensock-plugin-master\"\n\nclass Cord extends React.Component {\n  componentDidMount() {\n    //playing around with creating a sound\n    //create a synth and connect it to the master output (your speakers)\n    // var distortion = new Tone.Distortion(3.5);\n    // var tremolo = new Tone.Tremolo().start();\n    // this.synth = new Tone.Synth().chain(distortion, tremolo, Tone.Master);\n    this.synth = new Tone.Synth().toMaster();\n    var max = window.innerHeight / 2 - 50;\n    var interval = max / 8;\n    var pts = [];\n    var prevX = this.props.center.x;\n    var flux = 8;\n    var prevY = this.props.center.y;\n\n    for (var i = 0; i < 9; i++) {\n      pts.push(prevX);\n      pts.push(prevY);\n      prevX = prevX + flux;\n      prevY = prevY - interval;\n      flux = -flux;\n    } //var tl = new TimelineLite();\n\n\n    this.tween = new Konva.Tween({\n      node: this.line,\n      ease: 'ElasticEaseInOut',\n      points: pts,\n      // points: [\n      //   this.props.center.x,\n      //   this.props.center.y,\n      //   this.props.center.x + 5,\n      //   this.props.center.y - 50,\n      //   this.props.center.x - 5,\n      //   this.props.center.y - 100,\n      //   this.props.center.x + 5,\n      //   this.props.center.y - 150,\n      //   this.props.center.x - 5,\n      //   this.props.center.y - 200,\n      //   this.props.center.x + 5,\n      //   this.props.center.y - 250,\n      //   this.props.center.x - 5,\n      //   this.props.center.y - 300,\n      //   this.props.center.x + 5,\n      //   this.props.center.y - 350,\n      //   this.props.center.x,\n      //   this.props.center.y - 400\n      // ],\n      onFinish: function () {\n        console.log(\"CDU TWEEN PTS: \" + this.tween.tween.points); // for (var i = 0; i < 18; i += 2){\n        //   this.tween.points[i] = -this.tween.points[i];\n        // }\n\n        this.tween.reverse();\n      } //   onReset: function() {\n      //     this.tween.play();\n      // }\n\n    });\n  }\n\n  playTween() {}\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.sounds !== this.props.sounds) {\n      this.synth.triggerAttackRelease(this.props.sounds[this.props.index], \"4n\");\n      this.tween.play(); //console.log(\"CDU Tween points: \" + this.tween.points)\n    }\n  }\n\n  render() {\n    var max = window.innerHeight / 2 - 50;\n    var interval = max / 8;\n    var pts = [];\n    var prevX = this.props.center.x;\n    var prevY = this.props.center.y;\n\n    for (var i = 0; i < 9; i++) {\n      pts.push(prevX);\n      pts.push(prevY);\n      prevY = prevY - interval;\n    }\n\n    return React.createElement(Layer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Circle, {\n      x: this.props.center.x,\n      y: this.props.center.y - max,\n      radius: 4,\n      fill: \"#692D55\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(Circle, {\n      x: this.props.center.x,\n      y: this.props.center.y,\n      radius: 15,\n      fill: \"#692D55\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Line, {\n      points: pts //   points={[\n      //     this.props.center.x,\n      // this.props.center.y,\n      // this.props.center.x - 5,\n      // this.props.center.y - 50,\n      // this.props.center.x + 5,\n      // this.props.center.y - 100,\n      // this.props.center.x - 5,\n      // this.props.center.y - 150,\n      // this.props.center.x + 5,\n      // this.props.center.y - 200,\n      // this.props.center.x - 5,\n      // this.props.center.y - 250,\n      // this.props.center.x + 5,\n      // this.props.center.y - 300,\n      // this.props.center.x - 5,\n      // this.props.center.y - 350,\n      // this.props.center.x,\n      // this.props.center.y - 400\n      //   ]}\n      ,\n      stroke: \"#692D55\",\n      strokeWidth: 2,\n      tension: 0.5,\n      ref: node => {\n        this.line = node;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    center: state.shared.center,\n    playing: state.shared.playing,\n    sounds: state.cord.sounds,\n    index: state.cord.index\n  };\n}\n\nexport default connect(mapStateToProps)(Cord);","map":{"version":3,"sources":["/Users/ericduong/Documents/repos/soundloop/src/components/Cord.js"],"names":["React","AppBar","PlayButton","Line","Layer","Circle","Toolbar","connect","Konva","Tone","Cord","Component","componentDidMount","synth","Synth","toMaster","max","window","innerHeight","interval","pts","prevX","props","center","x","flux","prevY","y","i","push","tween","Tween","node","line","ease","points","onFinish","console","log","reverse","playTween","componentDidUpdate","prevProps","sounds","triggerAttackRelease","index","play","render","mapStateToProps","state","shared","playing","cord"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,qBAAP;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,QAAoC,aAApC;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CACA;;AAEA,MAAMC,IAAN,SAAmBV,KAAK,CAACW,SAAzB,CAAmC;AACjCC,EAAAA,iBAAiB,GAAG;AAClB;AAEA;AACA;AACA;AACA;AAEA,SAAKC,KAAL,GAAa,IAAIJ,IAAI,CAACK,KAAT,GAAiBC,QAAjB,EAAb;AACA,QAAIC,GAAG,GAAGC,MAAM,CAACC,WAAP,GAAmB,CAAnB,GAAqB,EAA/B;AACA,QAAIC,QAAQ,GAAGH,GAAG,GAAC,CAAnB;AACA,QAAII,GAAG,GAAG,EAAV;AACA,QAAIC,KAAK,GAAG,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,CAA9B;AACA,QAAIC,IAAI,GAAG,CAAX;AACA,QAAIC,KAAK,GAAG,KAAKJ,KAAL,CAAWC,MAAX,CAAkBI,CAA9B;;AACA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC,CAAhB,EAAmBA,CAAC,EAApB,EAAuB;AACrBR,MAAAA,GAAG,CAACS,IAAJ,CAASR,KAAT;AACAD,MAAAA,GAAG,CAACS,IAAJ,CAASH,KAAT;AACAL,MAAAA,KAAK,GAAGA,KAAK,GAAGI,IAAhB;AACAC,MAAAA,KAAK,GAAGA,KAAK,GAAGP,QAAhB;AACAM,MAAAA,IAAI,GAAG,CAACA,IAAR;AACD,KArBiB,CAuBlB;;;AACA,SAAKK,KAAL,GAAa,IAAItB,KAAK,CAACuB,KAAV,CAAgB;AAC3BC,MAAAA,IAAI,EAAE,KAAKC,IADgB;AAE3BC,MAAAA,IAAI,EAAE,kBAFqB;AAG3BC,MAAAA,MAAM,EAAEf,GAHmB;AAI3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAgB,MAAAA,QAAQ,EAAE,YAAW;AACnBC,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAoB,KAAKR,KAAL,CAAWA,KAAX,CAAiBK,MAAjD,EADmB,CAEnB;AACA;AACA;;AACA,aAAKL,KAAL,CAAWS,OAAX;AACD,OA9B0B,CA+B3B;AACA;AACA;;AAjC2B,KAAhB,CAAb;AAmCD;;AAEDC,EAAAA,SAAS,GAAG,CAAE;;AAEdC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAIA,SAAS,CAACC,MAAV,KAAqB,KAAKrB,KAAL,CAAWqB,MAApC,EAA4C;AAC1C,WAAK9B,KAAL,CAAW+B,oBAAX,CACE,KAAKtB,KAAL,CAAWqB,MAAX,CAAkB,KAAKrB,KAAL,CAAWuB,KAA7B,CADF,EAEE,IAFF;AAIA,WAAKf,KAAL,CAAWgB,IAAX,GAL0C,CAM1C;AACD;AACF;;AAEDC,EAAAA,MAAM,GAAG;AACP,QAAI/B,GAAG,GAAGC,MAAM,CAACC,WAAP,GAAmB,CAAnB,GAAqB,EAA/B;AACA,QAAIC,QAAQ,GAAGH,GAAG,GAAC,CAAnB;AACA,QAAII,GAAG,GAAG,EAAV;AACA,QAAIC,KAAK,GAAG,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,CAA9B;AACA,QAAIE,KAAK,GAAG,KAAKJ,KAAL,CAAWC,MAAX,CAAkBI,CAA9B;;AACA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC,CAAhB,EAAmBA,CAAC,EAApB,EAAuB;AACrBR,MAAAA,GAAG,CAACS,IAAJ,CAASR,KAAT;AACAD,MAAAA,GAAG,CAACS,IAAJ,CAASH,KAAT;AACAA,MAAAA,KAAK,GAAGA,KAAK,GAAGP,QAAhB;AACD;;AACD,WACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AACE,MAAA,CAAC,EAAE,KAAKG,KAAL,CAAWC,MAAX,CAAkBC,CADvB;AAEE,MAAA,CAAC,EAAE,KAAKF,KAAL,CAAWC,MAAX,CAAkBI,CAAlB,GAAsBX,GAF3B;AAGE,MAAA,MAAM,EAAE,CAHV;AAIE,MAAA,IAAI,EAAC,SAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE,oBAAC,MAAD;AACE,MAAA,CAAC,EAAE,KAAKM,KAAL,CAAWC,MAAX,CAAkBC,CADvB;AAEE,MAAA,CAAC,EAAE,KAAKF,KAAL,CAAWC,MAAX,CAAkBI,CAFvB;AAGE,MAAA,MAAM,EAAE,EAHV;AAIE,MAAA,IAAI,EAAC,SAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EAaE,oBAAC,IAAD;AACE,MAAA,MAAM,EAAEP,GADV,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAsBE,MAAA,MAAM,EAAC,SAtBT;AAuBE,MAAA,WAAW,EAAE,CAvBf;AAwBE,MAAA,OAAO,EAAE,GAxBX;AAyBE,MAAA,GAAG,EAAEY,IAAI,IAAI;AACX,aAAKC,IAAL,GAAYD,IAAZ;AACD,OA3BH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbF,CADF;AA6CD;;AAnIgC;;AAsInC,SAASgB,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACL1B,IAAAA,MAAM,EAAE0B,KAAK,CAACC,MAAN,CAAa3B,MADhB;AAEL4B,IAAAA,OAAO,EAAEF,KAAK,CAACC,MAAN,CAAaC,OAFjB;AAGLR,IAAAA,MAAM,EAAEM,KAAK,CAACG,IAAN,CAAWT,MAHd;AAILE,IAAAA,KAAK,EAAEI,KAAK,CAACG,IAAN,CAAWP;AAJb,GAAP;AAMD;;AAED,eAAetC,OAAO,CAACyC,eAAD,CAAP,CAAyBtC,IAAzB,CAAf","sourcesContent":["import React from \"react\";\nimport \"../styles/index.css\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport PlayButton from \"./PlayButton\";\nimport { Line, Layer, Circle } from \"react-konva\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { connect } from \"react-redux\";\nimport Konva from \"konva\";\nimport Tone from \"tone\";\n//import GreenSock from \"greensock-plugin-master\"\n\nclass Cord extends React.Component {\n  componentDidMount() {\n    //playing around with creating a sound\n\n    //create a synth and connect it to the master output (your speakers)\n    // var distortion = new Tone.Distortion(3.5);\n    // var tremolo = new Tone.Tremolo().start();\n    // this.synth = new Tone.Synth().chain(distortion, tremolo, Tone.Master);\n\n    this.synth = new Tone.Synth().toMaster();\n    var max = window.innerHeight/2-50;\n    var interval = max/8;\n    var pts = [];\n    var prevX = this.props.center.x;\n    var flux = 8;\n    var prevY = this.props.center.y;\n    for (var i=0; i<9; i++){\n      pts.push(prevX);\n      pts.push(prevY);\n      prevX = prevX + flux;\n      prevY = prevY - interval;\n      flux = -flux;\n    }\n    \n    //var tl = new TimelineLite();\n    this.tween = new Konva.Tween({\n      node: this.line,\n      ease: 'ElasticEaseInOut',\n      points: pts,\n      // points: [\n      //   this.props.center.x,\n      //   this.props.center.y,\n      //   this.props.center.x + 5,\n      //   this.props.center.y - 50,\n      //   this.props.center.x - 5,\n      //   this.props.center.y - 100,\n      //   this.props.center.x + 5,\n      //   this.props.center.y - 150,\n      //   this.props.center.x - 5,\n      //   this.props.center.y - 200,\n      //   this.props.center.x + 5,\n      //   this.props.center.y - 250,\n      //   this.props.center.x - 5,\n      //   this.props.center.y - 300,\n      //   this.props.center.x + 5,\n      //   this.props.center.y - 350,\n      //   this.props.center.x,\n      //   this.props.center.y - 400\n      // ],\n      onFinish: function() {\n        console.log(\"CDU TWEEN PTS: \" + this.tween.tween.points);\n        // for (var i = 0; i < 18; i += 2){\n        //   this.tween.points[i] = -this.tween.points[i];\n        // }\n        this.tween.reverse();\n      }\n      //   onReset: function() {\n      //     this.tween.play();\n      // }\n    });\n  }\n\n  playTween() {}\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.sounds !== this.props.sounds) {\n      this.synth.triggerAttackRelease(\n        this.props.sounds[this.props.index],\n        \"4n\"\n      );\n      this.tween.play();\n      //console.log(\"CDU Tween points: \" + this.tween.points)\n    }\n  }\n\n  render() {\n    var max = window.innerHeight/2-50;\n    var interval = max/8;\n    var pts = [];\n    var prevX = this.props.center.x;\n    var prevY = this.props.center.y;\n    for (var i=0; i<9; i++){\n      pts.push(prevX);\n      pts.push(prevY);\n      prevY = prevY - interval;\n    }\n    return (\n      <Layer>\n        <Circle\n          x={this.props.center.x}\n          y={this.props.center.y - max}\n          radius={4}\n          fill=\"#692D55\"\n        />\n        <Circle\n          x={this.props.center.x}\n          y={this.props.center.y}\n          radius={15}\n          fill=\"#692D55\"\n        />\n        <Line\n          points={pts}\n        //   points={[\n        //     this.props.center.x,\n        // this.props.center.y,\n        // this.props.center.x - 5,\n        // this.props.center.y - 50,\n        // this.props.center.x + 5,\n        // this.props.center.y - 100,\n        // this.props.center.x - 5,\n        // this.props.center.y - 150,\n        // this.props.center.x + 5,\n        // this.props.center.y - 200,\n        // this.props.center.x - 5,\n        // this.props.center.y - 250,\n        // this.props.center.x + 5,\n        // this.props.center.y - 300,\n        // this.props.center.x - 5,\n        // this.props.center.y - 350,\n        // this.props.center.x,\n        // this.props.center.y - 400\n        //   ]}\n          stroke=\"#692D55\"\n          strokeWidth={2}\n          tension={0.5}\n          ref={node => {\n            this.line = node;\n          }}\n        />\n      </Layer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    center: state.shared.center,\n    playing: state.shared.playing,\n    sounds: state.cord.sounds,\n    index: state.cord.index\n  };\n}\n\nexport default connect(mapStateToProps)(Cord);\n"]},"metadata":{},"sourceType":"module"}